---
description: 
globs: 
alwaysApply: true
---
---
alias: "@task-flow"
description: Erstellt Ã¼berprÃ¼ft automatisch ob Task Module erstellt wurden 
globs:
  - "modules/*/*.mdc"
---

# ğŸ§© Task-Flow nach Taskmaster-Prinzipien

## Ziel
Implementiert Taskmaster AI-Prinzipien fÃ¼r strukturiertes Task-Management:
- PRD-basierte Task-Generierung
- AbhÃ¤ngigkeits-Tracking
- Memory Bank Integration
- Automated Task Updates

---

## ğŸ” Schritt 1: Memory Bank Sync

Vor jedem Task-Flow:
- âœ… Lese `memory-bank/activeContext.md` fÃ¼r aktuellen Status
- âœ… PrÃ¼fe `memory-bank/progress.md` fÃ¼r Modul-Fortschritt
- âœ… Update Memory Bank wenn neue Tasks generiert werden

---

## ğŸ“ Schritt 2: Task-Datei nach Taskmaster-Format

FÃ¼r jedes Modul in `.cursor/rules/<modulename>/`:

- ğŸ”„ Wenn `tasks/<modulename>.md` **nicht existiert**:
  â†’ Erzeuge aus `.cursor/rules/Templates/module_task.md`  
  â†’ FÃ¼ge Taskmaster-Prinzipien hinzu:
    - KomplexitÃ¤ts-Scoring (1-10)
    - AbhÃ¤ngigkeits-Matrix
    - Research-backed Subtasks
    - Progress-Tracking

- ğŸ”„ Wenn bereits vorhanden:
  â†’ Sync mit Memory Bank Status
  â†’ Update Dependencies basierend auf aktueller Modulstruktur
  â†’ ErgÃ¤nze fehlende Taskmaster-Elemente

---

## ğŸ§ª Schritt 3: Taskmaster-Integration

### Task-Struktur erweitern:
```md
# Task fÃ¼r {{modulename}}

## ğŸ“‹ PRD Reference
- Link zu relevanten PRD-Abschnitten
- Business-Anforderungen

## ğŸ¯ Akzeptanzkriterien  
- [ ] Funktionale Anforderungen erfÃ¼llt
- [ ] Tests implementiert
- [ ] Documentation vollstÃ¤ndig

## ğŸ”— AbhÃ¤ngigkeits-Matrix
- **Blocking**: Module die vorgezogen werden mÃ¼ssen
- **Blocked**: Module die auf dieses warten
- **Parallel**: Module die parallel entwickelt werden kÃ¶nnen

## ğŸ“Š KomplexitÃ¤t & Aufwand
- KomplexitÃ¤t: {{1-10}}
- GeschÃ¤tzter Aufwand: {{hours/days}}
- Risiko-Level: {{low/medium/high}}

## ğŸ§  Research-Backed Subtasks
(Von Taskmaster AI generiert basierend auf aktuellen Best Practices)

## ğŸ“ˆ Progress Tracking
- [ ] Design Phase
- [ ] Implementation Phase  
- [ ] Testing Phase
- [ ] Documentation Phase
- [ ] Integration Phase
```

---

## ğŸ”— Regel: Memory Bank Auto-Update

Bei Task-Ã„nderungen:
â†’ Update `memory-bank/activeContext.md` automatisch
â†’ Sync `memory-bank/progress.md` mit Task-Status  
â†’ Benachrichtige Ã¼ber kritische AbhÃ¤ngigkeiten

---

## ğŸ¯ Integration mit @taskmaster-ai

Wenn Taskmaster AI verfÃ¼gbar:
- Nutze PRD aus `.taskmaster/docs/prd.txt`
- Generiere research-backed Subtasks
- Sync mit `.taskmaster/tasks.json`
- Verwende AI fÃ¼r KomplexitÃ¤ts-Bewertung

---

## ğŸ§© Initialer Modulscan & Strukturabgleich

## Ziel
Stelle sicher, dass fÃ¼r jedes Modul:
- eine Task-Datei existiert und auf dem aktuellen Stand ist
- eine Audit-Datei existiert und gepflegt wird
- AbhÃ¤ngigkeiten dokumentiert und Ã¼berprÃ¼ft werden
- die Ordnerstruktur vollstÃ¤ndig ist

---

## ğŸ” Schritt 1: Modulstruktur Ã¼berprÃ¼fen

FÃ¼r jede Datei `modules/<modulename>/<modulename>.mdc`:

- âœ… Existenz von `tasks/` und `audits/` innerhalb des Modulordners sicherstellen  
  â†’ Wenn nicht vorhanden: anlegen

---

## ğŸ“ Schritt 2: Task-Datei generieren oder aktualisieren

- ğŸ”„ Wenn `modules/<modulename>/tasks/<modulename>.md` **nicht existiert**:
  â†’ Erzeuge Datei aus `rules/templates/module_task.md`  
  â†’ Ersetze `{{modulename}}` in Platzhaltern

- ğŸ”„ Wenn `modules/<modulename>/tasks/<modulename>.md` **bereits existiert**:
  â†’ Lese alle Checkbox-Zeilen:
    - `- [x]` â†’ als erledigt markieren
    - `- [ ]` â†’ offen lassen
  â†’ PrÃ¼fe anhand des Modulinhalts, ob neue To-dos notwendig sind (z.â€¯B. neue API, neue Relationen)
  â†’ ErgÃ¤nze ggf. fehlende Punkte

---

## ğŸ§ª Schritt 3: Audit-Datei erzeugen oder aktualisieren

- ğŸ“„ Wenn `modules/<modulename>/audits/<modulename>.mdc` **nicht existiert**:
  â†’ Erstelle mit Grundstruktur:

```md
---
alias: "@audit-{{modulename}}"
description: StatusprÃ¼fung fÃ¼r {{modulename}}
---

# ğŸ” Audit: {{modulename}}

## Taskstatus
- Task-Datei: neu erstellt / ergÃ¤nzt / vollstÃ¤ndig

## Erledigte Aufgaben
- x / n erledigt

## VerknÃ¼pfte Module
- OK / Fehlend: <liste>

## Letzter Check: {{datum}}

## ğŸ”— Regel: ModulabhÃ¤ngigkeiten prÃ¼fen

FÃ¼r jede Datei `modules/<modulename>/<modulename>.mdc`:

â†’ Suche nach `dependencies:`-Block  
â†’ Extrahiere EintrÃ¤ge (z.â€¯B. `loginmodul`, `userprofile`)

FÃ¼r jeden Eintrag:

- âœ… Wenn `modules/<dependency>/` existiert:
  - Keine Aktion

- âŒ Wenn **nicht vorhanden**:
  - ErgÃ¤nze To-do in `tasks/<modulename>.md`:
    - `- [ ] Modul {{dependency}} erstellen oder verlinken`
  - ErgÃ¤nze Audit-Eintrag:
    - `â— Fehlende AbhÃ¤ngigkeit: {{dependency}}`

