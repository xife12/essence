---
description: 
globs: 
alwaysApply: true
---
# ğŸ¥ System-Gesundheits-Orchestrator fÃ¼r MemberCore (âœ… ERWEITERT MIT INTELLIGENT HEALTH-AUDIT)

## ğŸ¯ Mission
Automatisierte Ãœberwachung und Optimierung der gesamten Systemgesundheit durch Integration von:
- **Memory Bank** fÃ¼r AI-Context-Persistenz
- **Intelligent Health-Audit** fÃ¼r automatische alwaysApply-Enforcement  
- **Cursor Rules** fÃ¼r Code-QualitÃ¤t & Standards mit Live-Sync
- **Taskmaster AI** fÃ¼r strukturiertes Task-Management
- **Health Monitoring** fÃ¼r kontinuierliche SystemÃ¼berwachung

---

## ğŸ”„ ERWEITETER AUTOMATISCHER WORKFLOW

### Phase 0: Pre-Work alwaysApply-Enforcement (ğŸ†• NEU)
```
1. Module-Detection
   ğŸ” Erkenne Modul-Arbeit (Dateipfad-Analysis)
   ğŸ” Identifiziere zugehÃ¶rige Rule-Files
   
2. Compliance-Check (AUTOMATISCH)
   âš¡ @health-audit [modulename] --pre-work-check
   âš¡ PrÃ¼fe alwaysApply: true fÃ¼r alle Module-Rules
   âš¡ AUTO-FIX bei Violations (ohne User-Intervention)
   
3. Rule-Code-Sync (LIVE)
   ğŸ”„ Vergleiche Code vs Rules
   ğŸ”„ Integriere undokumentierte Features automatisch
   ğŸ”„ Update Rules mit neuen Komponenten/APIs
```

### Phase 1: Session-Start (Automatisch erweitert)
```
1. Memory Bank Loading
   âœ… Lese memory-bank/activeContext.md
   âœ… PrÃ¼fe memory-bank/progress.md  
   âœ… Verstehe aktuellen Arbeitsstand
   
2. Enhanced System Health Check
   âœ… FÃ¼hre @health-audit --comprehensive durch
   âœ… PrÃ¼fe kritische Dependencies
   âœ… Validiere ALL Rules fÃ¼r alwaysApply: true
   âœ… AUTO-FIX bei Compliance-Violations
   
3. Taskmaster Sync (wenn verfÃ¼gbar)
   âœ… Sync mit .taskmaster/tasks.json
   âœ… Check PRD-AktualitÃ¤t
   âœ… Update Task-PrioritÃ¤ten
```

### Phase 2: Arbeits-Session (Kontinuierlich + Live-Sync)
```
1. Proaktive Ãœberwachung
   ğŸ” @audit-on-create bei neuen/geÃ¤nderten Rules
   ğŸ” @task-flow bei Modul-Ã„nderungen
   ğŸ” Memory Bank Updates bei significant changes
   ğŸ” ğŸ†• LIVE-MONITORING: Code â†’ Rules Synchronisation
   
2. Automatische Korrekturen (ERWEITERT)
   ğŸ”§ Globs-Patterns korrigieren
   ğŸ”§ Dependencies aktualisieren
   ğŸ”§ Alias-Inkonsistenzen beheben
   ğŸ”§ ğŸ†• alwaysApply-Violations sofort fixen
   ğŸ”§ ğŸ†• Neue Features direkt in Rules integrieren
   
3. Performance Monitoring
   ğŸ“Š Health-Score Tracking
   ğŸ“Š Dependency-Zyklen erkennen
   ğŸ“Š Code-Quality Metrics
   ğŸ“Š ğŸ†• Rule-Compliance-Score (Target: 100%)
```

### Phase 3: Session-Ende (Automatisch erweitert)
```
1. Memory Bank Update
   ğŸ’¾ Update activeContext.md mit Session-Ergebnissen
   ğŸ’¾ Sync progress.md mit aktuellen Task-Status
   ğŸ’¾ Dokumentiere wichtige Erkenntnisse
   ğŸ’¾ ğŸ†• Log Auto-Fixes und Rule-Updates
   
2. System Cleanup
   ğŸ§¹ TemporÃ¤re Dateien bereinigen
   ğŸ§¹ Konsistenz-Checks durchfÃ¼hren
   ğŸ§¹ Health-Report generieren
   ğŸ§¹ ğŸ†• Finale alwaysApply-Compliance-Validation
   
3. Next Session Preparation
   ğŸ“ PrioritÃ¤ten fÃ¼r nÃ¤chste Session setzen
   ğŸ“ Kritische Issues markieren
   ğŸ“ Context fÃ¼r AI-Handover vorbereiten
   ğŸ“ ğŸ†• Rule-Sync-Status dokumentieren
```

---

## ğŸ›ï¸ ERWEITERTE STEUERUNGSKOMMANDOS

### Sofortige Aktionen (ERWEITERT)
- `@system-health` - VollstÃ¤ndiger System-Check + alwaysApply-Enforcement
- `@system-health --fix` - Automatische Problembehebung + Rule-Fixes
- `@system-health --memory-sync` - Memory Bank Force-Update
- `@system-health --taskmaster-sync` - Taskmaster-Integration prÃ¼fen
- `@system-health --always-apply-audit` - ğŸ†• Reine alwaysApply-Compliance-PrÃ¼fung
- `@system-health --live-sync` - ğŸ†• Codeâ†’Rules Live-Synchronisation

### Maintenance-Modi (ERWEITERT)
- `@system-health --audit-all` - Alle Module auditieren + Auto-Fix
- `@system-health --cleanup` - System-Cleanup durchfÃ¼hren
- `@system-health --optimize` - Performance-Optimierungen
- `@system-health --report` - Detaillierter Health-Report
- `@system-health --rule-integrity` - ğŸ†• 100% Rule-Konsistenz-Check
- `@system-health --auto-documentation` - ğŸ†• Undokumentierte Features integrieren

### Module-spezifische Workflows (ğŸ†• NEU)
- `@system-health [modulname] --pre-work` - Pre-Work-Check fÃ¼r spezifisches Modul
- `@system-health [modulname] --post-work` - Post-Work-Validation
- `@system-health [modulname] --sync` - Modul-spezifische Rule-Code-Synchronisation

---

## ğŸ—ï¸ ERWEITERTE SYSTEMKOMPONENTEN

### A) Memory Bank Integration (âœ… VOLLSTÃ„NDIG)
- **Automatisches Loading** bei jeder Session
- **Context Persistence** zwischen AI-Sessions  
- **Hierarchical Knowledge** (projectbrief â†’ activeContext â†’ progress)
- **Update Triggers** bei significant changes

### B) Intelligent Health-Audit System (ğŸ†• VOLLSTÃ„NDIG INTEGRIERT)
- **Pre-Work-Enforcement**: Automatische alwaysApply-PrÃ¼fung vor Modul-Arbeit
- **Live-Sync-Monitoring**: Codeâ†’Rules Synchronisation in Echtzeit
- **Auto-Integration**: Neue Features werden automatisch dokumentiert
- **Compliance-Enforcement**: Null-Toleranz fÃ¼r alwaysApply: false
- **Module-Spezifische Checks**: Vertragsarten-V2, Formbuilder, etc.

### C) Cursor Rules Management (ğŸ”„ ERWEITERT + AUTOMATED)
- **Konsistenz-PrÃ¼fung** aller .mdc Dateien
- **Automatische Globs-Korrektur** fÃ¼r korrekte Pfade
- **Dependency-Validation** mit Projekt-Status
- **Alias-Standardisierung** (@modulename-feature Format)
- **ğŸ†• Auto-Fix-Engine**: Violations werden sofort behoben
- **ğŸ†• Live-Documentation**: Code-Ã„nderungen â†’ Rules in Echtzeit

### D) Taskmaster AI Integration (ğŸ†• NEU IMPLEMENTIERT)
- **PRD-Basierte Task-Generierung** aus .taskmaster/docs/prd.txt
- **Research-Backed Subtasks** mit aktuellen Best Practices
- **KomplexitÃ¤ts-Scoring** (1-10) fÃ¼r AufwandsschÃ¤tzung
- **Dependency-Matrix** fÃ¼r optimale Scheduling

### E) Health Monitoring (ğŸ”„ ERWEITERT + PREDICTIVE)
- **Real-time Health Score** (aktuell 92/100 nach Rule-Updates)
- **Kritische Issue Detection** (Security, Performance, Dependencies)
- **Automated Fix Suggestions** fÃ¼r hÃ¤ufige Probleme
- **Trend Analysis** fÃ¼r langfristige System-Gesundheit
- **ğŸ†• Compliance-Score**: 100% alwaysApply-Target
- **ğŸ†• Rule-Sync-Health**: Codeâ†”Rules Synchronisation-Status

---

## ğŸ“Š ERWEITERTE SUCCESS METRICS & KPIs

### System-Gesundheit (UPDATED)
- **Health Score:** Target 98+/100 (aktuell 92/100 nach Health-Audit-Integration)
- **Rule Consistency:** 100% korrekte Globs & Dependencies
- **ğŸ†• alwaysApply Compliance:** 100% (KRITISCH - NULL-TOLERANZ)
- **Memory Bank Sync:** < 5 Sekunden Session-Start
- **Task Coverage:** 100% Module haben aktuelle Tasks
- **ğŸ†• Rule-Code-Sync:** < 5 Sekunden fÃ¼r Live-Integration

### Developer Experience (ENHANCED)
- **Context Restore Time:** < 10 Sekunden bei Session-Start
- **Issue Detection:** < 30 Sekunden fÃ¼r kritische Probleme
- **Auto-Fix Success Rate:** > 95% fÃ¼r standardisierte Issues (erhÃ¶ht)
- **Documentation Coverage:** 100% fÃ¼r alle Module
- **ğŸ†• Zero-Manual-Rule-Updates:** 100% automatische Integration

### Integration Health (ADVANCED)
- **Taskmaster Sync:** Bidirektional ohne Konflikte
- **Dependency Resolution:** 0 zirkulÃ¤re Dependencies
- **API Consistency:** 100% typisierte Schnittstellen
- **Performance:** Alle Core Web Vitals im grÃ¼nen Bereich
- **ğŸ†• Rule-Compliance-Gate:** Blockiert Arbeit bei alwaysApply-Violations

---

## ğŸš¨ ERWEITERTE KRITISCHE ÃœBERWACHUNGSPUNKTE

### Red Flags (Sofortige Auto-Action)
- Health Score < 90/100 â†’ Automatischer @system-health --fix
- **ğŸ†• alwaysApply: false detected** â†’ Sofortige Auto-Korrektur (KRITISCH)
- ZirkulÃ¤re Dependencies zwischen Modulen â†’ Auto-Detection + Report
- Memory Bank Sync-Fehler > 10 Sekunden â†’ Force-Sync
- **ğŸ†• Rule-Code-Divergenz > 24h** â†’ Automatische Live-Sync
- Kritische Security Issues (RLS, Input Validation) â†’ Immediate Alert

### Yellow Flags (Enhanced Monitoring)
- Health Score 90-95/100 â†’ Continuous Monitoring
- Rule-Inkonsistenzen > 3% aller Dateien (verschÃ¤rft von 5%)
- Performance-Degradation > 15% baseline (verschÃ¤rft von 20%)
- Dokumentations-Coverage < 98% (verschÃ¤rft von 95%)
- **ğŸ†• Undocumentierte Features > 48h** â†’ Auto-Integration-Trigger

### Green Status (Enhanced Optimal)
- Health Score 95+/100
- **ğŸ†• 100% alwaysApply Compliance** (NEU - KRITISCH)
- Alle Rules konsistent und aktuell
- Memory Bank sync < 5 Sekunden
- 100% Test-Coverage fÃ¼r kritische Pfade
- Zero Known Security Issues
- **ğŸ†• 100% Rule-Code-Sync** (Live-Synchronisation aktiv)

---

## ğŸ¯ ERWEITERTE ROADMAP

### Q1 2025 Roadmap (UPDATED)
- [x] **Intelligent Health-Audit** - âœ… IMPLEMENTIERT (18.06.2025)
- [x] **alwaysApply-Enforcement** - âœ… IMPLEMENTIERT (18.06.2025)  
- [x] **Live Rule-Code-Sync** - âœ… IMPLEMENTIERT (18.06.2025)
- [ ] **Predictive Health Analytics** - AI-basierte FrÃ¼herkennung von Problemen
- [ ] **Auto-Documentation** - Automatische API-Docs aus Code-Analyse
- [ ] **Performance Profiling** - Kontinuierliches Monitoring kritischer Pfade

### Q2 2025 Vision (ENHANCED)
- [ ] **Intelligent Task Scheduling** - AI-optimierte Entwicklungsreihenfolge
- [ ] **Code Quality Gates** - Automatische Standards-Enforcement
- [ ] **Integration Testing Automation** - End-to-End Test-Generierung
- [ ] **Advanced Memory Bank** - Langzeit-Projekt-Intelligence
- [ ] **ğŸ†• Zero-Intervention-Development** - 100% automatisierte Rule-Maintenance

---

## ğŸ”— INTEGRATION WORKFLOW-BEISPIEL

### **Typischer Workflow mit neuem System:**
```bash
# USER Ã¶ffnet Vertragsarten-V2-Datei
# â†’ AUTOMATISCH triggered:

1. @system-health vertragsarten --pre-work-check
   âœ… alwaysApply-Compliance fÃ¼r alle Vertragsarten-Rules
   âœ… Auto-Fix bei Violations
   âœ… Rule-Code-Sync-Check
   
2. Live-Monitoring wÃ¤hrend Entwicklung
   ğŸ”„ Neue Komponente erkannt â†’ Automatisch in Rules integriert
   ğŸ”„ API-Ã„nderung erkannt â†’ Rule-Update ausgefÃ¼hrt
   ğŸ”„ Performance-Change â†’ Dokumentation angepasst
   
3. @system-health vertragsarten --post-work
   âœ… Finale Compliance-Validation
   âœ… Health-Score-Update
   âœ… Memory Bank Update mit Changes
```

---

## ğŸ¯ KRITISCHE ERFOLGSFAKTOREN

### **Null-Toleranz-Bereiche:**
1. **alwaysApply: false** â†’ Sofortige Auto-Korrektur (nie User fragen)
2. **Undokumentierte Features** â†’ Automatische Integration in < 5 Min
3. **Rule-Code-Divergenz** â†’ Live-Sync ohne User-Intervention
4. **Compliance-Violations** â†’ Blockiert weitere Arbeit bis behoben

### **Performance-Ziele:**
- Auto-Fix-Zeit: < 10 Sekunden
- Live-Sync-Latenz: < 5 Sekunden  
- Health-Check-Zeit: < 30 Sekunden
- Rule-Integration-Zeit: < 2 Minuten

---

> **ZIEL:** Ein vollstÃ¤ndig selbstregulierendes System mit Null-Toleranz fÃ¼r alwaysApply-Violations und 100% automatischer Codeâ†’Rules-Synchronisation ohne manuelle Intervention.
